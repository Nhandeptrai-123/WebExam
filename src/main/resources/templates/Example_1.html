<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Example</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
      <header>
        <div class="cotainer">
          <div class = "row ">
            <div class="col-2 pt-3 d-flex justify-content-center align-items-center">
              <button type="button" class="btn btn-outline-danger" onclick="window.location.href='/createtest'">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 17 17">
                  <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                </svg>
                Exit
              </button>
            </div>
            <div class="col-2"></div>
            <div class="col-4">
              <label  class="form-label d-flex justify-content-center align-items-center"><b>Name Example</b></label>
                <h2 class="d-flex justify-content-center align-items-center">
                  <span th:text="${NameExam}"></span>
<!--                  <span th:text="${IDexam}"></span>-->
                </h2>
            </div>
            <div class="col-2"></div>
              <div class="col-2 pt-3 d-flex justify-content-center align-items-center">
                <button type="button" class="btn btn-success" >
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 17 17">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
                  </svg>
                  <a href="/library" class="btn btn-success btn-block">Save</a>
                </button>
              </div>
          </div>
        </div>
      </header>

      <session class="pt-5 ">
        <form class="pt-5" method="POST" action="/exam_1">
          <div class="container shadow p-3 mb-5 bg-body rounded ">
            <div class="row ">
              <div class="col-12 ">
                <input type="hidden" name="IDexam" th:value="${IDexam}" />
                <input type="hidden" name="NameExam" th:value="${NameExam}" />
                <textarea class="form-control text-center" placeholder="Input question here!" name="question" id="question" style="height: 150px;background: #4b208c; color: #ffffff;"></textarea>
              </div>
            </div>
            <div class="row">
              <!-- Câu trả lời 1 -->
              <div class="col-3 p-2 d-flex justify-content-center align-items-center">
                <div class="form-check form-check-inline" style="width: 100%;">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1" onclick="setAnswerValue('answer1')">
                  <label class="form-check-label" for="inlineRadio1" style="width: 100%;">
                    <input type="text" id="answer1" name="answer1" class="form-control text-center" placeholder="answer 1" style="background-color: #20c997; height: 100px; color: white;">
                  </label>
                </div>
              </div>

              <!-- Câu trả lời 2 -->
              <div class="col-3 p-2 d-flex justify-content-center align-items-center">
                <div class="form-check form-check-inline" style="width: 100%;">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2" onclick="setAnswerValue('answer2')">
                  <label class="form-check-label" for="inlineRadio2" style="width: 100%;">
                    <input type="text" class="form-control text-center" name="answer2" id="answer2" placeholder="answer 2" style="background-color: #20c997; height: 100px; color: white;">
                  </label>
                </div>
              </div>

              <!-- Câu trả lời 3 -->
              <div class="col-3 p-2 d-flex justify-content-center align-items-center">
                <div class="form-check form-check-inline" style="width: 100%;">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3" onclick="setAnswerValue('answer3')">
                  <label class="form-check-label" for="inlineRadio3" style="width: 100%;">
                    <input type="text" class="form-control text-center" name="answer3" id="answer3" placeholder="answer 3" style="background-color: #20c997; height: 100px; color: white;">
                  </label>
                </div>
              </div>

              <!-- Câu trả lời 4 -->
              <div class="col-3 p-2 d-flex justify-content-center align-items-center">
                <div class="form-check form-check-inline" style="width: 100%;">
                  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio4" value="option4" onclick="setAnswerValue('answer4')">
                  <label class="form-check-label" for="inlineRadio4" style="width: 100%;">
                    <input type="text" class="form-control text-center" name="answer4" id="answer4" placeholder="answer 4" style="background-color: #20c997; height: 100px; color: white;">
                  </label>
                </div>
              </div>
            </div>
           <div class="row p-2 d-flex justify-content-center align-items-center">
             <div class="col-1 ">
<!--                Đây là input text lấy dữ liệu từ các radio được chọn trong 4 radio question trên và truyền đi thông qua class js Example_1.js -->
               <input type="hidden" id="selectedAnswer" name="selectedAnswer">
               <button type="submit" class="btn btn-success ">
                 Create
               </button>
             </div>
           </div>
          </div>
        </form>
      </session>
      <div class="container mt-4">
        <table class="table table-bordered table-hover table-striped text-center">
          <thead class="table-dark">
          <tr>
            <th scope="col">STT</th>
            <th scope="col">Question</th>
            <th scope="col">Answer 1</th>
            <th scope="col">Answer 2</th>
            <th scope="col">Answer 3</th>
            <th scope="col">Answer 4</th>
            <th scope="col">True</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="question, stat : ${questions}">
            <td th:text="${stat.index + 1}"></td> <!-- Số thứ tự -->
            <td th:text="${question.question}"></td> <!-- Câu hỏi -->
            <td th:text="${question.answer1}"></td> <!-- Đáp án 1 -->
            <td th:text="${question.answer2}"></td> <!-- Đáp án 2 -->
            <td th:text="${question.answer3}"></td> <!-- Đáp án 3 -->
            <td th:text="${question.answer4}"></td> <!-- Đáp án 4 -->
            <td th:text="${question.correctAnswer}"></td> <!-- Đáp án đúng -->
            <td>
              <form th:action="@{/exam_1/delete/{id}(id=${question.idQuestion})}" method="post">
                <input type="hidden" name="IDexam" th:value="${IDexam}" />
                <input type="hidden" name="NameExam" th:value="${NameExam}" />
                <button type="submit" class="btn btn-danger">Xóa</button> <!-- Hành động xóa -->
              </form>

            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <script>
        function setAnswerValue(answerId) {
            // Lấy giá trị của input-text tương ứng với radio được chọn
            var selectedAnswer = document.getElementById(answerId).value;
            // Gán giá trị này vào hidden field để gửi lên server
            document.getElementById('selectedAnswer').value = selectedAnswer;
        }
      </script>

</body>
</html>